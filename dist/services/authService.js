!function(){"use strict";function e(e,r,a,n,i){function o(e,t,r){n(function(){var a;i.GetByUsername(e).then(function(e){a=null!==e&&e.password===t?{success:!0}:{success:!1,message:"Username or password is incorrect"},r(a)})},1e3)}function c(n,i){var o=t.encode(n+":"+i);console.log("set credentials called here"),a.globals={currentUser:{username:n,authdata:o}},e.defaults.headers.common.Authorization="Basic "+o;var c=new Date;c.setDate(c.getDate()+7),r.putObject("globals",a.globals,{expires:c})}function s(){a.globals={},r.remove("globals"),e.defaults.headers.common.Authorization="Basic"}function h(){return!0}var d={};return d.Login=o,d.SetCredentials=c,d.ClearCredentials=s,d.isAuthenticated=h,d}angular.module("myApp").factory("AuthenticationService",e),e.$inject=["$http","$cookies","$rootScope","$timeout","UserService"];var t={keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,r,a,n,i,o="",c="",s="",h=0;do t=e.charCodeAt(h++),r=e.charCodeAt(h++),c=e.charCodeAt(h++),a=t>>2,n=(3&t)<<4|r>>4,i=(15&r)<<2|c>>6,s=63&c,isNaN(r)?i=s=64:isNaN(c)&&(s=64),o=o+this.keyStr.charAt(a)+this.keyStr.charAt(n)+this.keyStr.charAt(i)+this.keyStr.charAt(s),t=r=c="",a=n=i=s="";while(h<e.length);return o},decode:function(e){var t,r,a,n,i,o="",c="",s="",h=0,d=/[^A-Za-z0-9\+\/\=]/g;d.exec(e)&&window.alert("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do a=this.keyStr.indexOf(e.charAt(h++)),n=this.keyStr.indexOf(e.charAt(h++)),i=this.keyStr.indexOf(e.charAt(h++)),s=this.keyStr.indexOf(e.charAt(h++)),t=a<<2|n>>4,r=(15&n)<<4|i>>2,c=(3&i)<<6|s,o+=String.fromCharCode(t),64!=i&&(o+=String.fromCharCode(r)),64!=s&&(o+=String.fromCharCode(c)),t=r=c="",a=n=i=s="";while(h<e.length);return o}}}();